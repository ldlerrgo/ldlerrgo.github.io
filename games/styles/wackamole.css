/* Wack-a-Mole */
body.wackamole{
  background:linear-gradient(135deg, #04160d 0%, #062315 45%, #0a3a22 100%) !important;
  overflow:hidden;
  touch-action:none;
}

body.wackamole .wam-screen{
  width:100%;
  min-height:100vh;
  min-height:100dvh;
  padding:calc(16px + env(safe-area-inset-top, 0px)) 16px calc(16px + env(safe-area-inset-bottom, 0px)) 16px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:12px;
}

body.wackamole .wam-shell{
  width:min(560px, 92vw);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
}

body.wackamole .wam-topbar{
  width:100%;
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
  justify-content:center;
}

body.wackamole .wam-pill{
  display:inline-flex;
  align-items:baseline;
  gap:10px;
  padding:10px 14px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(10px);
  -webkit-backdrop-filter:blur(10px);
  box-shadow:0 12px 26px rgba(0,0,0,.28);
  color:rgba(255,255,255,.92);
}
body.wackamole .wam-pill span{font-weight:800; opacity:.9}
body.wackamole .wam-pill strong{font-weight:950; font-size:1.2rem}

body.wackamole .wam-lives{
  display:inline-flex;
  gap:6px;
  padding:10px 14px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(10px);
  -webkit-backdrop-filter:blur(10px);
  box-shadow:0 12px 26px rgba(0,0,0,.28);
}

body.wackamole .wam-life{font-size:14px; line-height:1; transform:translateY(-1px)}
body.wackamole .wam-life.on{color:rgba(178, 255, 214, .95); text-shadow:0 0 10px rgba(120,255,190,.25)}
body.wackamole .wam-life.off{color:rgba(255,255,255,.22)}

body.wackamole .wam-mini-btn{
  min-height:44px;
  padding:10px 14px;
  border-radius:999px;
}

body.wackamole .wam-stage{
  width:min(92vw, 560px, 70vh);
  aspect-ratio:1/1;
  height:auto;

  border-radius:18px;
  border:1px solid rgba(255,255,255,.14);
  background:
    radial-gradient(900px 420px at 50% 15%, rgba(255,255,255,.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  box-shadow:0 24px 60px rgba(0,0,0,.45);

  display:grid;
  grid-template-columns:repeat(3, minmax(0, 1fr));
  grid-auto-rows:1fr;
  gap:14px;
  padding:14px;

  position:relative;
  overflow:hidden;
  touch-action:none;
}

@media (max-width:480px){
  body.wackamole .wam-stage{
    width:min(92vw, 520px, 66vh);
    gap:12px;
    padding:12px;
  }
}

body.wackamole .wam-hole{
  position:relative;
  border-radius:18px;
  overflow:hidden;
  aspect-ratio:1/1;

  background:
    radial-gradient(120px 80px at 50% 70%, rgba(0,0,0,.65), rgba(0,0,0,.25) 60%, rgba(255,255,255,.02) 100%),
    linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.10);
  box-shadow:
    inset 0 18px 24px rgba(0,0,0,.28),
    0 16px 30px rgba(0,0,0,.30);
}

body.wackamole .wam-rim{
  position:absolute;
  left:10px;
  right:10px;
  bottom:10px;
  height:18px;
  border-radius:999px;
  background:rgba(0,0,0,.35);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.08);
  pointer-events:none;
}

body.wackamole .wam-pop{
  position:absolute;
  left:50%;
  top:50%;

  width:calc(100% - 20px);
  aspect-ratio:1/1;
  height:auto;
  max-width:calc(100% - 20px);
  max-height:calc(100% - 20px);

  padding:0;
  margin:0;
  min-height:0;

  border:3px solid transparent;
  border-radius:14px;
  overflow:hidden;
  box-sizing:border-box;

  background:rgba(255,255,255,.06);
  box-shadow:none;

  display:flex;
  align-items:center;
  justify-content:center;

  cursor:pointer;
  pointer-events:auto;
  touch-action:manipulation;

  transform:translate(-50%, -50%) translateY(90%);
  transition:transform 120ms ease, border-color 120ms ease, box-shadow 120ms ease;
}

body.wackamole .wam-pop.up{transform:translate(-50%, -50%) translateY(0%)}
body.wackamole .wam-pop.hit{border-color:#ffd166; box-shadow:0 0 15px #ffd166}
body.wackamole .wam-pop.miss{animation:wam-miss 180ms ease}

@keyframes wam-miss{
  0%{transform:translate(-50%, -50%) translateY(90%) scale(1)}
  50%{transform:translate(-50%, -50%) translateY(90%) scale(.98)}
  100%{transform:translate(-50%, -50%) translateY(90%) scale(1)}
}

body.wackamole .wam-img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

body.wackamole .wam-bomb,
body.wackamole .wam-fallback{
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:clamp(34px, 9vw, 64px);
  line-height:1;
  filter:drop-shadow(0 12px 18px rgba(0,0,0,.25));
}
body.wackamole .wam-fallback{color:rgba(255,255,255,.85)}

body.wackamole .wam-overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition:opacity .25s ease, background .25s ease;
  z-index:10;
}
body.wackamole .wam-overlay.show{
  opacity:1;
  pointer-events:auto;
  background:rgba(0,0,0,.32);
  backdrop-filter:blur(5px);
  -webkit-backdrop-filter:blur(5px);
}

body.wackamole .wam-overlay-card{
  width:min(360px, 86%);
  padding:16px 16px 14px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(15, 18, 28, .62);
  box-shadow:0 22px 60px rgba(0,0,0,.45);
  text-align:center;
  color:rgba(255,255,255,.92);
}
body.wackamole .wam-overlay-card h3{
  margin:0 0 6px 0;
  font-size:1.35rem;
  font-weight:950;
}
body.wackamole .wam-overlay-card p{
  margin:0 0 12px 0;
  opacity:.92;
  font-weight:700;
}

body.wackamole .wam-help{
  margin:0;
  opacity:.9;
  font-weight:700;
  text-align:center;
  color:rgba(255,255,255,.85);
}